# AI-learning-diary
–ê–ª—å—Ñ–∞ (Œ±) ‚Äî —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è (learning rate)
–ß—Ç–æ —ç—Ç–æ? –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Å–∏–ª—å–Ω–æ –º—ã –æ–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è Q –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–æ–≤–æ–º –æ–ø—ã—Ç–µ.

–ó–∞—á–µ–º –Ω—É–∂–µ–Ω? –û–Ω —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç, —Å–∫–æ–ª—å–∫–æ –º—ã "–¥–æ–≤–µ—Ä—è–µ–º" –Ω–æ–≤–æ–º—É –æ–ø—ã—Ç—É –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —É–∂–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–º–∏ –∑–Ω–∞–Ω–∏—è–º–∏.

–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?

 - –ï—Å–ª–∏ Œ± –±–ª–∏–∑–∫–æ –∫ 1 ‚Äî –º—ã –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ –æ–±–Ω–æ–≤–ª—è–µ–º Q, —É—á–∏—Ç—ã–≤–∞—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –Ω–æ–≤—ã–π –æ–ø—ã—Ç (–º–æ–∂–µ–º –±—ã—Å—Ç—Ä–æ –º–µ–Ω—è—Ç—å –∑–Ω–∞–Ω–∏—è, –Ω–æ –æ–±—É—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã–º).

 - –ï—Å–ª–∏ Œ± –±–ª–∏–∑–∫–æ –∫ 0 ‚Äî –º—ã –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º Q, –±–æ–ª—å—à–µ –æ–ø–∏—Ä–∞–µ–º—Å—è –Ω–∞ —Å—Ç–∞—Ä—ã–µ –∑–Ω–∞–Ω–∏—è (–æ–±—É—á–µ–Ω–∏–µ —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ, –Ω–æ –º–æ–∂–µ—Ç –∏–¥—Ç–∏ –¥–æ–ª–≥–æ).

–§–æ—Ä–º—É–ª–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Q:
``` vbnet
Q(s,a)=Q(s,a)+Œ±‚ãÖ(reward+Œ≥‚ãÖmaxQ(s‚Ä≤,a‚Ä≤)‚àíQ(s,a))
```

---

–ì–∞–º–º–∞ (Œ≥) ‚Äî —Ñ–∞–∫—Ç–æ—Ä –¥–∏—Å–∫–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (discount factor)

–ß—Ç–æ —ç—Ç–æ? –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Å–∏–ª—å–Ω–æ –∞–≥–µ–Ω—Ç —Ü–µ–Ω–∏—Ç –±—É–¥—É—â–∏–µ –Ω–∞–≥—Ä–∞–¥—ã –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Ç–µ–∫—É—â–∏–º–∏.

–ó–∞—á–µ–º –Ω—É–∂–µ–Ω? –û–Ω –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –∞–≥–µ–Ω—Ç –±—É–¥–µ—Ç —É—á–∏—Ç—ã–≤–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã, –Ω–æ –∏ —Ç–µ, —á—Ç–æ –±—É–¥—É—Ç –ø–æ–∑–∂–µ.

–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?
 - –ï—Å–ª–∏ Œ≥ –±–ª–∏–∑–∫–æ –∫ 0 ‚Äî –∞–≥–µ–Ω—Ç —Ü–µ–Ω–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã, –Ω–µ –¥—É–º–∞–µ—Ç –æ –±—É–¥—É—â–µ–º.
 - –ï—Å–ª–∏ Œ≥ –±–ª–∏–∑–∫–æ –∫ 1 ‚Äî –∞–≥–µ–Ω—Ç —É—á–∏—Ç—ã–≤–∞–µ—Ç –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—É—é –≤—ã–≥–æ–¥—É –∏ —Å—Ç–∞—Ä–∞–µ—Ç—Å—è –º–∞–∫—Å–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–±—â—É—é –Ω–∞–≥—Ä–∞–¥—É –∑–∞ –≤—Å—é —Å–µ—Ä–∏—é –¥–µ–π—Å—Ç–≤–∏–π.

–ü—Ä–∏–º–µ—Ä

- –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ –∞–≥–µ–Ω—Ç —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–¥ –≤—ã–±–æ—Ä–æ–º: –ø–æ–ª—É—á–∏—Ç—å —Å—Ä–∞–∑—É 10 –æ—á–∫–æ–≤ –∏–ª–∏ 15 –æ—á–∫–æ–≤ —á–µ—Ä–µ–∑ –¥–≤–∞ —à–∞–≥–∞.

- –ü—Ä–∏ –Ω–∏–∑–∫–æ–º Œ≥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0.1) –æ–Ω –≤—ã–±–µ—Ä–µ—Ç 10 —Å—Ä–∞–∑—É, –ø–æ—Ç–æ–º—É —á—Ç–æ –±—É–¥—É—â–∏–µ –Ω–∞–≥—Ä–∞–¥—ã –ø–æ—á—Ç–∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è.

- –ü—Ä–∏ –≤—ã—Å–æ–∫–æ–º Œ≥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0.9) –æ–Ω –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –∂–¥–∞—Ç—å, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å 15 –ø–æ–∑–∂–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ü–µ–Ω–∏—Ç –±—É–¥—É—â–µ–µ.

–ö—Ä–∞—Ç–∫–æ:

–ü–∞—Ä–∞–º–µ—Ç—Ä	–ó–Ω–∞—á–µ–Ω–∏–µ	–†–æ–ª—å

Œ±	0 < Œ± ‚â§ 1	–°–∫–æ—Ä–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Q-–∑–Ω–∞—á–µ–Ω–∏–π

Œ≥	0 ‚â§ Œ≥ < 1	–í–µ—Å –±—É–¥—É—â–∏—Ö –Ω–∞–≥—Ä–∞–¥

---

üí° –ü—Ä–∏–º–µ—Ä, –∫–∞–∫ —Ç—ã —Å–∫–∞–∑–∞–ª:
"–û–±—ã—á–Ω–æ –≤—ã—Ö–æ–¥–∏–º –∏–∑ –¥–æ–º–∞ –∏ –∑–∞—Ö–æ–¥–∏–º –æ–±—Ä–∞—Ç–Ω–æ."

–≠—Ç–æ –Ω–∞—à–µ —Ç–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

–û–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ, –ø—Ä–∏–≤—ã—á–Ω–æ–µ, –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ ‚Üí Q(s, a) —Å—Ç–∞–±–∏–ª—å–Ω–æ.

ü§î –ü–æ—Ç–æ–º –º—ã –ø—Ä–æ–±—É–µ–º —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ:
"–ü–æ—Å—Ç–æ—è—Ç—å 2 —Å–µ–∫—É–Ω–¥—ã."
–ú—ã –Ω–µ —É–º–µ—Ä–ª–∏.
‚û°Ô∏è –ù–∞–≥—Ä–∞–¥–∞: 0, –Ω–æ –∏ —à—Ç—Ä–∞—Ñ–∞ –Ω–µ—Ç ‚Üí —ç—Ç–æ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –æ–ø—ã—Ç.

–ê–ª—å—Ñ–∞ (Œ±) –≥–æ–≤–æ—Ä–∏—Ç:
üî∏ "–û–∫–µ–π, –¥–∞–≤–∞–π –∑–∞–ø–æ–º–Ω–∏–º, —á—Ç–æ –ø–æ—Å—Ç–æ—è—Ç—å 2 —Å–µ–∫—É–Ω–¥—ã ‚Äî –≤—Ä–æ–¥–µ –±—ã –Ω–µ –ø–ª–æ—Ö–æ."

–ù–æ –µ—Å—Ç—å –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ—Å—Ç—å:
"–ê –µ—Å–ª–∏ –ø–æ—Å—Ç–æ–∏–º 10 —Å–µ–∫—É–Ω–¥? –ù–µ —É–º—Ä—ë–º?"

–í–æ—Ç –∑–¥–µ—Å—å –∏ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≥–∞–º–º–∞ (Œ≥) ‚Äî –æ–Ω–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞:

"–ê –Ω–∞—Å–∫–æ–ª—å–∫–æ —è –≤–µ—Ä—é –≤ —Ç–æ, —á—Ç–æ –±—É–¥—É—â–µ–µ –ø—Ä–∏–Ω–µ—Å—ë—Ç –º–Ω–µ –ø–æ–ª—å–∑—É?"

–ï—Å–ª–∏ Œ≥ –±–ª–∏–∑–∫–æ –∫ 0 ‚Üí –º—ã –¥—É–º–∞–µ–º —Ç–æ–ª—å–∫–æ –æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –≤—ã–≥–æ–¥–µ (–∂–∏–≤ –æ—Å—Ç–∞–ª—Å—è ‚Äî –æ–∫, –∏–¥—ë–º –¥–æ–º–æ–π).

–ï—Å–ª–∏ Œ≥ –±–ª–∏–∑–∫–æ –∫ 1 ‚Üí –º—ã –Ω–∞—á–∏–Ω–∞–µ–º –¥—É–º–∞—Ç—å:
üí≠ "–•–º, –∞ –º–æ–∂–µ—Ç –µ—Å–ª–∏ —Å—Ç–æ—è—Ç—å 10 —Å–µ–∫—É–Ω–¥, —Ç–æ –Ω–∞—Å –≤–ø—É—Å—Ç—è—Ç –≤ –Ω–æ–≤—ã–π –º–∞–≥–∞–∑–∏–Ω —Å –ø–ª—é—à–∫–∞–º–∏?"

–ò—Ç–æ–≥ üßæ
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç |	–¢–≤–æ—è –º–µ—Ç–∞—Ñ–æ—Ä–∞ |	–°–º—ã—Å–ª |
|-----------|---------------|-------|
| Œ±         |	–ù–∞—Å–∫–æ–ª—å–∫–æ –±—ã—Å—Ç—Ä–æ –º—ã –Ω–∞—á–∏–Ω–∞–µ–º –≤–µ—Ä–∏—Ç—å, —á—Ç–æ "–ø–æ—Å—Ç–æ—è—Ç—å –Ω–µ —Å—Ç—Ä–∞—à–Ω–æ" |	–¢–µ–º–ø –æ–±—É—á–µ–Ω–∏—è |
| Œ≥ |	–ê –≤–¥—Ä—É–≥, –µ—Å–ª–∏ —Å—Ç–æ—è—Ç—å –¥–æ–ª–≥–æ ‚Äî –±—É–¥–µ—Ç –Ω–∞–≥—Ä–∞–¥–∞? |	–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ |
| R | –£ –º–µ–Ω—è –ø–æ–ª—É—á–ª–æ—Å—å, —è —Ç–µ–ø–µ—Ä—å –Ω–µ –±–æ—é—Å—å | –ù–∞–∑–≥—Ä–∞–¥–∞ –∑–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–µ |

| –ù–∞–∑–≤–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ                      |
|----------|----------|-------------------------------|
| Œ± (alpha) | 0.1      | –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è (learning rate) |
| Œ≥ (gamma) | 0.9      | –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–∏—Å–∫–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (discount factor) |
| R        | 10       | –ù–∞–≥—Ä–∞–¥–∞                        |


–ù–∞–ø—Ä–∏–º–µ—Ä —Ñ–æ—Ä–º—É–ª–∞ –Ω–∞–≥—Ä–∞–¥—ã:

reward = alpha * newReward + (1 - alpha) * oldReward;

–ú—ã –Ω–µ –æ—Å–æ–±–æ –≤–µ—Ä–∏–º –±—É–¥—É—â–µ–π –Ω–∞–≥—Ä–∞–¥–µ, –±–æ–ª—å—à–µ –≤–µ—Ä–∏–º –ø—Ä–æ—à–ª–æ–π. –£ –Ω–∞—Å –∞–ª—å—Ñ–∞ —Ä–∞–≤–µ–Ω 0.1, –ø–æ—ç—Ç–æ–º—É –º—ã –Ω–µ –æ—Å–æ–±–æ —Å–ø–µ—à–∏–º –≤–µ—Ä–∏—Ç –Ω–æ–≤–æ–π –Ω–∞–≥—Ä–∞–¥–µ, –∞ –¥–µ–ª–∞–µ–º –º–µ–¥–ª–µ–Ω–Ω—ã–µ —à–∞–≥–∏.

–ü—Ä–∏–º–µ—Ä —Å –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:
```cpp
Episode 0, State 0, Action 0, Reward 0, Updated Q = 0

Episode 1, State 1, Action 0, Reward 0, Updated Q = 0

Episode 2, State 2, Action 1, Reward 1, Updated Q = 0.1

Episode 3, State 3, Action 0, Reward 0.9, Updated Q = 0.09

Episode 4, State 4, Action 1, Reward 1.81, Updated Q = 0.181

Episode 5, State 0, Action 1, Reward 2.629, Updated Q = 0.2629

Episode 6, State 1, Action 1, Reward 3.3661, Updated Q = 0.34561

Episode 7, State 2, Action 0, Reward 3.02949, Updated Q = 0.311049

Episode 8, State 3, Action 0, Reward 2.72654, Updated Q = 0.369944

Episode 9, State 4, Action 1, Reward 3.45389, Updated Q = 0.53195
```
```cpp
... * (reward + gamma * maxQNext - Q[state][action]);
```
–í–æ 2 —ç–ø–∏–∑–æ–¥–µ –º—ã —Å–¥–µ–ª–∞–ª–∏ —à–∞–≥ –∏ –ø–æ–ª—É—á–∏–ª–∏ –Ω–∞–≥—Ä–∞–¥—É 1. –•–æ—Ç—è –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –º—ã –ø–æ–ª—É—á–∞–ª–∏ –Ω–∞–≥—Ä–∞–¥—É 10
``` cpp
double newReward = (action == 1) ? 10.0 : 0.0;
```
–º—ã –Ω–µ –æ—Å–æ–±–æ –ø—Ä–∏–≤—è–∑–∞–ª–∏—Å—å –∫ –Ω–æ–≤–æ–π –Ω–∞–≥—Ä–∞–¥–µ, –∞ –¥–µ—Ä–∂–∞–ª–∏ –ø–ª–∞–≤–Ω—ã–π —Ç–µ–º–ø –∫ –¥–æ–≤–µ—Ä–∏—é.

